function makeid(t){t=t||10;for(var e="",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!$&",n=0;n<t;n++)e+=i.charAt(Math.floor(Math.random()*i.length));return e}function calculaRFC(t,e){function n(t){return t.replace("DEL ","").replace("LAS ","").replace("DE ","").replace("LA ","").replace("Y ","").replace("A ","")}e=e||document,nombre=$(e).find(".nombre-rfc").val().toUpperCase(),apellidoPaterno=$(e).find(".apellido-pat-rfc").val().toUpperCase(),apellidoMaterno=$(e).find(".apellido-mat-rfc").val().toUpperCase(),fecha=$(e).find(".fecha-nac-rfc").val();var s="";apellidoPaterno=n(apellidoPaterno),apellidoMaterno=n(apellidoMaterno),s+=apellidoPaterno.substr(0,1);var a,r=apellidoPaterno.length;for(i=0;i<r;i++)if(a=apellidoPaterno.charAt(i),function(t){return"A"==t||"E"==t||"I"==t||"O"==t||"U"==t||"a"==t||"e"==t||"i"==t||"o"==t||"u"==t}(a)){s+=a;break}var o=fecha.split("-");s+=apellidoMaterno.substr(0,1),s+=nombre.substr(0,1),3===o.length&&(s+=o[2],s+=o[1],s+=o[0].substr(2)),$(e).find(t).val(s)}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(){"use strict";function t(e,i,n){return("string"==typeof i?i:i.toString()).replace(e.define||a,function(t,i,s,a){return 0===i.indexOf("def.")&&(i=i.substring(4)),i in n||(":"===s?(e.defineParams&&a.replace(e.defineParams,function(t,e,s){n[i]={arg:e,text:s}}),i in n||(n[i]=a)):new Function("def","def['"+i+"']="+a)(n)),""}).replace(e.use||a,function(i,s){e.useParams&&(s=s.replace(e.useParams,function(t,e,i,s){if(n[i]&&n[i].arg&&s){var a=(i+":"+s).replace(/'|\\/g,"_");return n.__exp=n.__exp||{},n.__exp[a]=n[i].text.replace(new RegExp("(^|[^\\w$])"+n[i].arg+"([^\\w$])","g"),"$1"+s+"$2"),e+"def.__exp['"+a+"']"}}));var a=new Function("def","return "+s)(n);return a?t(e,a,n):a})}function e(t){return t.replace(/\\('|\\)/g,"$1").replace(/[\r\t\n]/g," ")}var i,n={name:"doT",version:"1.1.1",templateSettings:{evaluate:/\{\{([\s\S]+?(\}?)+)\}\}/g,interpolate:/\{\{=([\s\S]+?)\}\}/g,encode:/\{\{!([\s\S]+?)\}\}/g,use:/\{\{#([\s\S]+?)\}\}/g,useParams:/(^|[^\w$])def(?:\.|\[[\'\"])([\w$\.]+)(?:[\'\"]\])?\s*\:\s*([\w$\.]+|\"[^\"]+\"|\'[^\']+\'|\{[^\}]+\})/g,define:/\{\{##\s*([\w\.$]+)\s*(\:|=)([\s\S]+?)#\}\}/g,defineParams:/^\s*([\w$]+):([\s\S]+)/,conditional:/\{\{\?(\?)?\s*([\s\S]*?)\s*\}\}/g,iterate:/\{\{~\s*(?:\}\}|([\s\S]+?)\s*\:\s*([\w$]+)\s*(?:\:\s*([\w$]+))?\s*\}\})/g,varname:"it",strip:!0,append:!0,selfcontained:!1,doNotSkipEncoded:!1},template:void 0,compile:void 0,log:!0};n.encodeHTMLSource=function(t){var e={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=t?/[&<>"'\/]/g:/&(?!#?\w+;)|<|>|"|'|\//g;return function(t){return t?t.toString().replace(i,function(t){return e[t]||t}):""}},i=function(){return this||(0,eval)("this")}(),"undefined"!=typeof module&&module.exports?module.exports=n:"function"==typeof define&&define.amd?define(function(){return n}):i.doT=n;var s={append:{start:"'+(",end:")+'",startencode:"'+encodeHTML("},split:{start:"';out+=(",end:");out+='",startencode:"';out+=encodeHTML("}},a=/$^/;n.template=function(r,o,l){o=o||n.templateSettings;var d,u,c=o.append?s.append:s.split,h=0,m=o.use||o.define?t(o,r,l||{}):r;m=("var out='"+(o.strip?m.replace(/(^|\r|\n)\t* +| +\t*(\r|\n|$)/g," ").replace(/\r|\n|\t|\/\*[\s\S]*?\*\//g,""):m).replace(/'|\\/g,"\\$&").replace(o.interpolate||a,function(t,i){return c.start+e(i)+c.end}).replace(o.encode||a,function(t,i){return d=!0,c.startencode+e(i)+c.end}).replace(o.conditional||a,function(t,i,n){return i?n?"';}else if("+e(n)+"){out+='":"';}else{out+='":n?"';if("+e(n)+"){out+='":"';}out+='"}).replace(o.iterate||a,function(t,i,n,s){return i?(h+=1,u=s||"i"+h,i=e(i),"';var arr"+h+"="+i+";if(arr"+h+"){var "+n+","+u+"=-1,l"+h+"=arr"+h+".length-1;while("+u+"<l"+h+"){"+n+"=arr"+h+"["+u+"+=1];out+='"):"';} } out+='"}).replace(o.evaluate||a,function(t,i){return"';"+e(i)+"out+='"})+"';return out;").replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r").replace(/(\s|;|\}|^|\{)out\+='';/g,"$1").replace(/\+''/g,""),d&&(o.selfcontained||!i||i._encodeHTML||(i._encodeHTML=n.encodeHTMLSource(o.doNotSkipEncoded)),m="var encodeHTML = typeof _encodeHTML !== 'undefined' ? _encodeHTML : ("+n.encodeHTMLSource.toString()+"("+(o.doNotSkipEncoded||"")+"));"+m);try{return new Function(o.varname,m)}catch(t){throw"undefined"!=typeof console&&console.log("Could not create a template function: "+m),t}},n.compile=function(t,e){return n.template(t,null,e)}}(),function(t){"use strict";var e={url:null,values:null,method:"POST",target:null,traditional:!1,redirectTop:!1};t.redirect=function(i,n,s,a,r,o){var l=i;if("object"!==(void 0===i?"undefined":_typeof(i)))var l={url:i,values:n,method:s,target:a,traditional:r,redirectTop:o};var d=t.extend({},e,l),u=t.redirect.getForm(d.url,d.values,d.method,d.target,d.traditional);t("body",d.redirectTop?window.top.document:void 0).append(u.form),u.submit(),u.form.remove()},t.redirect.getForm=function(e,i,a,r,o){a=a&&-1!==["GET","POST","PUT","DELETE"].indexOf(a.toUpperCase())?a.toUpperCase():"POST",e=e.split("#");var l=e[1]?"#"+e[1]:"";if(e=e[0],!i){var d=t.parseUrl(e);e=d.url,i=d.params}i=s(i);var u=t("<form>").attr("method",a).attr("action",e+l);r&&u.attr("target",r);var c=u[0].submit;return n(i,[],u,null,o),{form:u,submit:function(){c.call(u[0])}}},t.parseUrl=function(t){if(-1===t.indexOf("?"))return{url:t,params:{}};var e=t.split("?"),i=e[1],n=i.split("&");t=e[0];var s,a,r={};for(s=0;s<n.length;s+=1)a=n[s].split("="),r[a[0]]=a[1];return{url:t,params:r}};var i=function(e,i,n,s,a){var r;if(n.length>0){r=n[0];var o;for(o=1;o<n.length;o+=1)r+="["+n[o]+"]";e=s&&a?r:r+"["+e+"]"}return t("<input>").attr("type","hidden").attr("name",e).attr("value",i)},n=function t(e,n,s,a,r){var o=[];Object.keys(e).forEach(function(l){"object"===_typeof(e[l])?(o=n.slice(),o.push(l),t(e[l],o,s,Array.isArray(e[l]),r)):s.append(i(l,e[l],n,a,r))})},s=function t(e){for(var i=Object.getOwnPropertyNames(e),n=0;n<i.length;n++){var s=i[n];null===e[s]||void 0===e[s]?delete e[s]:"object"===_typeof(e[s])?e[s]=t(e[s]):e[s].length<1&&delete e[s]}return e}}(window.jQuery||window.Zepto||window.jqlite),function(t){t.fn.scrollElement=function(e,i){return e||(e=function(){}),i||(i={speed:700,offset:-50}),t("html, body").animate({scrollTop:this.offset().top+i.offset},i.speed,"swing",e),this.focus(),this}}(jQuery),$.fn.serializeForm=function(t){var e=this,i=e.attr("enctype")||e.attr("accept"),n="multipart/form-data"===i,s=n?new FormData:{};return e.find("input, select, textarea").each(function(t,e){var i=$(e),a=i.attr("name");if((i.is(":checkbox")||i.is(":radio"))&&!i.prop("checked"))return!0;if(n){var r=i.is("[type='file']")?e.files[0]:i.val();s.append(a,r)}else s[a]=i.val(),i.is("[data-id-value]")&&(s[a]=i.attr("data-id-value"))}),s},function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){t.extend(t.fn,{validate:function(e){if(!this.length)return void(e&&e.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."));var i=t.data(this[0],"validator");return i||(this.attr("novalidate","novalidate"),i=new t.validator(e,this[0]),t.data(this[0],"validator",i),i.settings.onsubmit&&(this.on("click.validate",":submit",function(e){i.submitButton=e.currentTarget,t(this).hasClass("cancel")&&(i.cancelSubmit=!0),void 0!==t(this).attr("formnovalidate")&&(i.cancelSubmit=!0)}),this.on("submit.validate",function(e){function n(){var n,s;return i.submitButton&&(i.settings.submitHandler||i.formSubmitted)&&(n=t("<input type='hidden'/>").attr("name",i.submitButton.name).val(t(i.submitButton).val()).appendTo(i.currentForm)),!i.settings.submitHandler||(s=i.settings.submitHandler.call(i,i.currentForm,e),n&&n.remove(),void 0!==s&&s)}return i.settings.debug&&e.preventDefault(),i.cancelSubmit?(i.cancelSubmit=!1,n()):i.form()?i.pendingRequest?(i.formSubmitted=!0,!1):n():(i.focusInvalid(),!1)})),i)},valid:function(){var e,i,n;return t(this[0]).is("form")?e=this.validate().form():(n=[],e=!0,i=t(this[0].form).validate(),this.each(function(){e=i.element(this)&&e,e||(n=n.concat(i.errorList))}),i.errorList=n),e},rules:function(e,i){var n,s,a,r,o,l,d=this[0];if(null!=d&&(!d.form&&d.hasAttribute("contenteditable")&&(d.form=this.closest("form")[0],d.name=this.attr("name")),null!=d.form)){if(e)switch(n=t.data(d.form,"validator").settings,s=n.rules,a=t.validator.staticRules(d),e){case"add":t.extend(a,t.validator.normalizeRule(i)),delete a.messages,s[d.name]=a,i.messages&&(n.messages[d.name]=t.extend(n.messages[d.name],i.messages));break;case"remove":return i?(l={},t.each(i.split(/\s/),function(t,e){l[e]=a[e],delete a[e]}),l):(delete s[d.name],a)}return r=t.validator.normalizeRules(t.extend({},t.validator.classRules(d),t.validator.attributeRules(d),t.validator.dataRules(d),t.validator.staticRules(d)),d),r.required&&(o=r.required,delete r.required,r=t.extend({required:o},r)),r.remote&&(o=r.remote,delete r.remote,r=t.extend(r,{remote:o})),r}}}),t.extend(t.expr.pseudos||t.expr[":"],{blank:function(e){return!t.trim(""+t(e).val())},filled:function(e){var i=t(e).val();return null!==i&&!!t.trim(""+i)},unchecked:function(e){return!t(e).prop("checked")}}),t.validator=function(e,i){this.settings=t.extend(!0,{},t.validator.defaults,e),this.currentForm=i,this.init()},t.validator.format=function(e,i){return 1===arguments.length?function(){var i=t.makeArray(arguments);return i.unshift(e),t.validator.format.apply(this,i)}:void 0===i?e:(arguments.length>2&&i.constructor!==Array&&(i=t.makeArray(arguments).slice(1)),i.constructor!==Array&&(i=[i]),t.each(i,function(t,i){e=e.replace(new RegExp("\\{"+t+"\\}","g"),function(){return i})}),e)},t.extend(t.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",pendingClass:"pending",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:t([]),errorLabelContainer:t([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(t){this.lastActive=t,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,t,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(t)))},onfocusout:function(t){this.checkable(t)||!(t.name in this.submitted)&&this.optional(t)||this.element(t)},onkeyup:function(e,i){var n=[16,17,18,20,35,36,37,38,39,40,45,144,225];9===i.which&&""===this.elementValue(e)||-1!==t.inArray(i.keyCode,n)||(e.name in this.submitted||e.name in this.invalid)&&this.element(e)},onclick:function(t){t.name in this.submitted?this.element(t):t.parentNode.name in this.submitted&&this.element(t.parentNode)},highlight:function(e,i,n){"radio"===e.type?this.findByName(e.name).addClass(i).removeClass(n):t(e).addClass(i).removeClass(n)},unhighlight:function(e,i,n){"radio"===e.type?this.findByName(e.name).removeClass(i).addClass(n):t(e).removeClass(i).addClass(n)}},setDefaults:function(e){t.extend(t.validator.defaults,e)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",equalTo:"Please enter the same value again.",maxlength:t.validator.format("Please enter no more than {0} characters."),minlength:t.validator.format("Please enter at least {0} characters."),rangelength:t.validator.format("Please enter a value between {0} and {1} characters long."),range:t.validator.format("Please enter a value between {0} and {1}."),max:t.validator.format("Please enter a value less than or equal to {0}."),min:t.validator.format("Please enter a value greater than or equal to {0}."),step:t.validator.format("Please enter a multiple of {0}.")},autoCreateRanges:!1,prototype:{init:function(){function e(e){!this.form&&this.hasAttribute("contenteditable")&&(this.form=t(this).closest("form")[0],this.name=t(this).attr("name"));var i=t.data(this.form,"validator"),n="on"+e.type.replace(/^validate/,""),s=i.settings;s[n]&&!t(this).is(s.ignore)&&s[n].call(i,this,e)}this.labelContainer=t(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||t(this.currentForm),this.containers=t(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var i,n=this.groups={};t.each(this.settings.groups,function(e,i){"string"==typeof i&&(i=i.split(/\s/)),t.each(i,function(t,i){n[i]=e})}),i=this.settings.rules,t.each(i,function(e,n){i[e]=t.validator.normalizeRule(n)}),t(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox'], [contenteditable], [type='button']",e).on("click.validate","select, option, [type='radio'], [type='checkbox']",e),this.settings.invalidHandler&&t(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),t.extend(this.submitted,this.errorMap),this.invalid=t.extend({},this.errorMap),this.valid()||t(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var t=0,e=this.currentElements=this.elements();e[t];t++)this.check(e[t]);return this.valid()},element:function(e){var i,n,s=this.clean(e),a=this.validationTargetFor(s),r=this,o=!0;return void 0===a?delete this.invalid[s.name]:(this.prepareElement(a),this.currentElements=t(a),n=this.groups[a.name],n&&t.each(this.groups,function(t,e){e===n&&t!==a.name&&(s=r.validationTargetFor(r.clean(r.findByName(t))))&&s.name in r.invalid&&(r.currentElements.push(s),o=r.check(s)&&o)}),i=!1!==this.check(a),o=o&&i,this.invalid[a.name]=!i,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),t(e).attr("aria-invalid",!i)),o},showErrors:function(e){if(e){var i=this;t.extend(this.errorMap,e),this.errorList=t.map(this.errorMap,function(t,e){return{message:t,element:i.findByName(e)[0]}}),this.successList=t.grep(this.successList,function(t){return!(t.name in e)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){t.fn.resetForm&&t(this.currentForm).resetForm(),this.invalid={},this.submitted={},this.prepareForm(),this.hideErrors();var e=this.elements().removeData("previousValue").removeAttr("aria-invalid");this.resetElements(e)},resetElements:function(t){var e;if(this.settings.unhighlight)for(e=0;t[e];e++)this.settings.unhighlight.call(this,t[e],this.settings.errorClass,""),this.findByName(t[e].name).removeClass(this.settings.validClass);else t.removeClass(this.settings.errorClass).removeClass(this.settings.validClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(t){var e,i=0;for(e in t)void 0!==t[e]&&null!==t[e]&&!1!==t[e]&&i++;return i},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(t){t.not(this.containers).text(""),this.addWrapper(t).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{t(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(t){}},findLastActive:function(){var e=this.lastActive;return e&&1===t.grep(this.errorList,function(t){return t.element.name===e.name}).length&&e},elements:function(){var e=this,i={};return t(this.currentForm).find("input, select, textarea, [contenteditable]").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){var n=this.name||t(this).attr("name");return!n&&e.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.hasAttribute("contenteditable")&&(this.form=t(this).closest("form")[0],this.name=n),!(n in i||!e.objectLength(t(this).rules()))&&(i[n]=!0,!0)})},clean:function(e){return t(e)[0]},errors:function(){var e=this.settings.errorClass.split(" ").join(".");return t(this.settings.errorElement+"."+e,this.errorContext)},resetInternals:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=t([]),this.toHide=t([])},reset:function(){this.resetInternals(),this.currentElements=t([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(t){this.reset(),this.toHide=this.errorsFor(t)},elementValue:function(e){var i,n,s=t(e),a=e.type;return"radio"===a||"checkbox"===a?this.findByName(e.name).filter(":checked").val():"number"===a&&void 0!==e.validity?e.validity.badInput?"NaN":s.val():(i=e.hasAttribute("contenteditable")?s.text():s.val(),"file"===a?"C:\\fakepath\\"===i.substr(0,12)?i.substr(12):(n=i.lastIndexOf("/"))>=0?i.substr(n+1):(n=i.lastIndexOf("\\"),n>=0?i.substr(n+1):i):"string"==typeof i?i.replace(/\r/g,""):i)},check:function(e){e=this.validationTargetFor(this.clean(e));var i,n,s,a,r=t(e).rules(),o=t.map(r,function(t,e){return e}).length,l=!1,d=this.elementValue(e);if("function"==typeof r.normalizer?a=r.normalizer:"function"==typeof this.settings.normalizer&&(a=this.settings.normalizer),a){if("string"!=typeof(d=a.call(e,d)))throw new TypeError("The normalizer should return a string value.");delete r.normalizer}for(n in r){s={method:n,parameters:r[n]};try{if("dependency-mismatch"===(i=t.validator.methods[n].call(this,d,e,s.parameters))&&1===o){l=!0;continue}if(l=!1,"pending"===i)return void(this.toHide=this.toHide.not(this.errorsFor(e)));if(!i)return this.formatAndAdd(e,s),!1}catch(t){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+e.id+", check the '"+s.method+"' method.",t),t instanceof TypeError&&(t.message+=".  Exception occurred when checking element "+e.id+", check the '"+s.method+"' method."),t}}if(!l)return this.objectLength(r)&&this.successList.push(e),!0},customDataMessage:function(e,i){return t(e).data("msg"+i.charAt(0).toUpperCase()+i.substring(1).toLowerCase())||t(e).data("msg")},customMessage:function(t,e){var i=this.settings.messages[t];return i&&(i.constructor===String?i:i[e])},findDefined:function(){for(var t=0;t<arguments.length;t++)if(void 0!==arguments[t])return arguments[t]},defaultMessage:function(e,i){"string"==typeof i&&(i={method:i});var n=this.findDefined(this.customMessage(e.name,i.method),this.customDataMessage(e,i.method),!this.settings.ignoreTitle&&e.title||void 0,t.validator.messages[i.method],"<strong>Warning: No message defined for "+e.name+"</strong>"),s=/\$?\{(\d+)\}/g;return"function"==typeof n?n=n.call(this,i.parameters,e):s.test(n)&&(n=t.validator.format(n.replace(s,"{$1}"),i.parameters)),n},formatAndAdd:function(t,e){var i=this.defaultMessage(t,e);this.errorList.push({message:i,element:t,method:e.method}),this.errorMap[t.name]=i,this.submitted[t.name]=i},addWrapper:function(t){return this.settings.wrapper&&(t=t.add(t.parent(this.settings.wrapper))),t},defaultShowErrors:function(){var t,e,i;for(t=0;this.errorList[t];t++)i=this.errorList[t],this.settings.highlight&&this.settings.highlight.call(this,i.element,this.settings.errorClass,this.settings.validClass),this.showLabel(i.element,i.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(t=0;this.successList[t];t++)this.showLabel(this.successList[t]);if(this.settings.unhighlight)for(t=0,e=this.validElements();e[t];t++)this.settings.unhighlight.call(this,e[t],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return t(this.errorList).map(function(){return this.element})},showLabel:function(e,i){var n,s,a,r,o=this.errorsFor(e),l=this.idOrName(e),d=t(e).attr("aria-describedby");o.length?(o.removeClass(this.settings.validClass).addClass(this.settings.errorClass),o.html(i)):(o=t("<"+this.settings.errorElement+">").attr("id",l+"-error").addClass(this.settings.errorClass).html(i||""),n=o,this.settings.wrapper&&(n=o.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(n):this.settings.errorPlacement?this.settings.errorPlacement.call(this,n,t(e)):n.insertAfter(e),o.is("label")?o.attr("for",l):0===o.parents("label[for='"+this.escapeCssMeta(l)+"']").length&&(a=o.attr("id"),d?d.match(new RegExp("\\b"+this.escapeCssMeta(a)+"\\b"))||(d+=" "+a):d=a,t(e).attr("aria-describedby",d),(s=this.groups[e.name])&&(r=this,t.each(r.groups,function(e,i){i===s&&t("[name='"+r.escapeCssMeta(e)+"']",r.currentForm).attr("aria-describedby",o.attr("id"))})))),!i&&this.settings.success&&(o.text(""),"string"==typeof this.settings.success?o.addClass(this.settings.success):this.settings.success(o,e)),this.toShow=this.toShow.add(o)},errorsFor:function(e){var i=this.escapeCssMeta(this.idOrName(e)),n=t(e).attr("aria-describedby"),s="label[for='"+i+"'], label[for='"+i+"'] *";return n&&(s=s+", #"+this.escapeCssMeta(n).replace(/\s+/g,", #")),this.errors().filter(s)},escapeCssMeta:function(t){return t.replace(/([\\!"#$%&'()*+,.\/:;<=>?@\[\]^`{|}~])/g,"\\$1")},idOrName:function(t){return this.groups[t.name]||(this.checkable(t)?t.name:t.id||t.name)},validationTargetFor:function(e){return this.checkable(e)&&(e=this.findByName(e.name)),t(e).not(this.settings.ignore)[0]},checkable:function(t){return/radio|checkbox/i.test(t.type)},findByName:function(e){return t(this.currentForm).find("[name='"+this.escapeCssMeta(e)+"']")},getLength:function(e,i){switch(i.nodeName.toLowerCase()){case"select":return t("option:selected",i).length;case"input":if(this.checkable(i))return this.findByName(i.name).filter(":checked").length}return e.length},depend:function(t,e){return!this.dependTypes[void 0===t?"undefined":_typeof(t)]||this.dependTypes[void 0===t?"undefined":_typeof(t)](t,e)},dependTypes:{boolean:function(t){return t},string:function(e,i){return!!t(e,i.form).length},function:function(t,e){return t(e)}},optional:function(e){var i=this.elementValue(e);return!t.validator.methods.required.call(this,i,e)&&"dependency-mismatch"},startRequest:function(e){this.pending[e.name]||(this.pendingRequest++,t(e).addClass(this.settings.pendingClass),this.pending[e.name]=!0)},stopRequest:function(e,i){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[e.name],t(e).removeClass(this.settings.pendingClass),i&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(t(this.currentForm).submit(),this.submitButton&&t("input:hidden[name='"+this.submitButton.name+"']",this.currentForm).remove(),this.formSubmitted=!1):!i&&0===this.pendingRequest&&this.formSubmitted&&(t(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(e,i){return i="string"==typeof i&&i||"remote",t.data(e,"previousValue")||t.data(e,"previousValue",{old:null,valid:!0,message:this.defaultMessage(e,{method:i})})},destroy:function(){this.resetForm(),t(this.currentForm).off(".validate").removeData("validator").find(".validate-equalTo-blur").off(".validate-equalTo").removeClass("validate-equalTo-blur")}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(e,i){e.constructor===String?this.classRuleSettings[e]=i:t.extend(this.classRuleSettings,e)},classRules:function(e){var i={},n=t(e).attr("class");return n&&t.each(n.split(" "),function(){this in t.validator.classRuleSettings&&t.extend(i,t.validator.classRuleSettings[this])}),i},normalizeAttributeRule:function(t,e,i,n){/min|max|step/.test(i)&&(null===e||/number|range|text/.test(e))&&(n=Number(n),isNaN(n)&&(n=void 0)),n||0===n?t[i]=n:e===i&&"range"!==e&&(t[i]=!0)},attributeRules:function(e){var i,n,s={},a=t(e),r=e.getAttribute("type");for(i in t.validator.methods)"required"===i?(n=e.getAttribute(i),""===n&&(n=!0),n=!!n):n=a.attr(i),this.normalizeAttributeRule(s,r,i,n);return s.maxlength&&/-1|2147483647|524288/.test(s.maxlength)&&delete s.maxlength,s},dataRules:function(e){var i,n,s={},a=t(e),r=e.getAttribute("type");for(i in t.validator.methods)n=a.data("rule"+i.charAt(0).toUpperCase()+i.substring(1).toLowerCase()),this.normalizeAttributeRule(s,r,i,n);return s},staticRules:function(e){var i={},n=t.data(e.form,"validator");return n.settings.rules&&(i=t.validator.normalizeRule(n.settings.rules[e.name])||{}),i},normalizeRules:function(e,i){return t.each(e,function(n,s){if(!1===s)return void delete e[n];if(s.param||s.depends){var a=!0;switch(_typeof(s.depends)){case"string":a=!!t(s.depends,i.form).length;break;case"function":a=s.depends.call(i,i)}a?e[n]=void 0===s.param||s.param:(t.data(i.form,"validator").resetElements(t(i)),delete e[n])}}),t.each(e,function(n,s){e[n]=t.isFunction(s)&&"normalizer"!==n?s(i):s}),t.each(["minlength","maxlength"],function(){e[this]&&(e[this]=Number(e[this]))}),t.each(["rangelength","range"],function(){var i;e[this]&&(t.isArray(e[this])?e[this]=[Number(e[this][0]),Number(e[this][1])]:"string"==typeof e[this]&&(i=e[this].replace(/[\[\]]/g,"").split(/[\s,]+/),e[this]=[Number(i[0]),Number(i[1])]))}),t.validator.autoCreateRanges&&(null!=e.min&&null!=e.max&&(e.range=[e.min,e.max],delete e.min,delete e.max),null!=e.minlength&&null!=e.maxlength&&(e.rangelength=[e.minlength,e.maxlength],delete e.minlength,delete e.maxlength)),e},normalizeRule:function(e){if("string"==typeof e){var i={};t.each(e.split(/\s/),function(){i[this]=!0}),e=i}return e},addMethod:function(e,i,n){t.validator.methods[e]=i,t.validator.messages[e]=void 0!==n?n:t.validator.messages[e],i.length<3&&t.validator.addClassRules(e,t.validator.normalizeRule(e))},methods:{required:function(e,i,n){if(!this.depend(n,i))return"dependency-mismatch";if("select"===i.nodeName.toLowerCase()){var s=t(i).val();return s&&s.length>0}return this.checkable(i)?this.getLength(e,i)>0:e.length>0},email:function(t,e){return this.optional(e)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(t)},url:function(t,e){return this.optional(e)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[\/?#]\S*)?$/i.test(t)},date:function(t,e){return this.optional(e)||!/Invalid|NaN/.test(new Date(t).toString())},dateISO:function(t,e){return this.optional(e)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(t)},number:function(t,e){return this.optional(e)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(t)},digits:function(t,e){return this.optional(e)||/^\d+$/.test(t)},minlength:function(e,i,n){var s=t.isArray(e)?e.length:this.getLength(e,i);return this.optional(i)||s>=n},maxlength:function(e,i,n){var s=t.isArray(e)?e.length:this.getLength(e,i);return this.optional(i)||s<=n},rangelength:function(e,i,n){var s=t.isArray(e)?e.length:this.getLength(e,i);return this.optional(i)||s>=n[0]&&s<=n[1]},min:function(t,e,i){return this.optional(e)||t>=i},max:function(t,e,i){return this.optional(e)||t<=i},range:function(t,e,i){return this.optional(e)||t>=i[0]&&t<=i[1]},step:function(e,i,n){var s,a=t(i).attr("type"),r="Step attribute on input type "+a+" is not supported.",o=["text","number","range"],l=new RegExp("\\b"+a+"\\b"),d=a&&!l.test(o.join()),u=function(t){var e=(""+t).match(/(?:\.(\d+))?$/);return e&&e[1]?e[1].length:0},c=function(t){return Math.round(t*Math.pow(10,s))},h=!0;if(d)throw new Error(r);return s=u(n),(u(e)>s||c(e)%c(n)!=0)&&(h=!1),this.optional(i)||h},equalTo:function(e,i,n){var s=t(n);return this.settings.onfocusout&&s.not(".validate-equalTo-blur").length&&s.addClass("validate-equalTo-blur").on("blur.validate-equalTo",function(){t(i).valid()}),e===s.val()},remote:function(e,i,n,s){if(this.optional(i))return"dependency-mismatch";s="string"==typeof s&&s||"remote";var a,r,o,l=this.previousValue(i,s);return this.settings.messages[i.name]||(this.settings.messages[i.name]={}),l.originalMessage=l.originalMessage||this.settings.messages[i.name][s],this.settings.messages[i.name][s]=l.message,n="string"==typeof n&&{url:n}||n,o=t.param(t.extend({data:e},n.data)),l.old===o?l.valid:(l.old=o,a=this,this.startRequest(i),r={},r[i.name]=e,t.ajax(t.extend(!0,{mode:"abort",port:"validate"+i.name,dataType:"json",data:r,context:a.currentForm,success:function(t){var n,r,o,d=!0===t||"true"===t;a.settings.messages[i.name][s]=l.originalMessage,d?(o=a.formSubmitted,a.resetInternals(),a.toHide=a.errorsFor(i),a.formSubmitted=o,a.successList.push(i),a.invalid[i.name]=!1,a.showErrors()):(n={},r=t||a.defaultMessage(i,{method:s,parameters:e}),n[i.name]=l.message=r,a.invalid[i.name]=!0,a.showErrors(n)),l.valid=d,a.stopRequest(i,d)}},n)),"pending")}}});var e,i={};return t.ajaxPrefilter?t.ajaxPrefilter(function(t,e,n){var s=t.port;"abort"===t.mode&&(i[s]&&i[s].abort(),i[s]=n)}):(e=t.ajax,t.ajax=function(n){var s=("mode"in n?n:t.ajaxSettings).mode,a=("port"in n?n:t.ajaxSettings).port;return"abort"===s?(i[a]&&i[a].abort(),i[a]=e.apply(this,arguments),i[a]):e.apply(this,arguments)}),t}),function(t){var e=0,i=0;t.extend(!0,t.validator,{prototype:{defaultShowErrors:function(){var n=this,s=t.fn.tooltip.Constructor.VERSION;s&&(s=s.split("."),e=parseInt(s[0]),i=parseInt(s[1])),t.each(this.errorList,function(s,a){if(3===e&&i>=3){var r=t(a.element);void 0!==r.data("bs.tooltip")?r.data("bs.tooltip").options.title=a.message:r.tooltip(n.applyTooltipOptions(a.element,a.message)),t(a.element).removeClass(n.settings.validClass).addClass(n.settings.errorClass).tooltip("show")}else t(a.element).removeClass(n.settings.validClass).addClass(n.settings.errorClass).tooltip(4===e?"dispose":"destroy").tooltip(n.applyTooltipOptions(a.element,a.message)).tooltip("show");n.settings.highlight&&n.settings.highlight.call(n,a.element,n.settings.errorClass,n.settings.validClass)}),t.each(n.validElements(),function(i,s){t(s).removeClass(n.settings.errorClass).addClass(n.settings.validClass).tooltip(4===e?"dispose":"destroy"),n.settings.unhighlight&&n.settings.unhighlight.call(n,s,n.settings.errorClass,n.settings.validClass)})},applyTooltipOptions:function(i,n){var s;s=4===e?t.fn.tooltip.Constructor.Default:3===e?t.fn.tooltip.Constructor.DEFAULTS:t.fn.tooltip.defaults;var a={animation:t(i).data("animation")||s.animation,html:t(i).data("html")||s.html,placement:t(i).data("placement")||s.placement,selector:t(i).data("selector")||s.selector,title:t(i).attr("title")||n,trigger:t.trim("manual "+(t(i).data("trigger")||"")),delay:t(i).data("delay")||s.delay,container:t(i).data("container")||s.container};return this.settings.tooltip_options&&this.settings.tooltip_options[i.name]&&t.extend(a,this.settings.tooltip_options[i.name]),this.settings.tooltip_options&&this.settings.tooltip_options._all_&&t.extend(a,this.settings.tooltip_options._all_),a}}})}(jQuery),function(t){t(["jquery"],function(t){return function(){function e(t,e,i){return f({type:w.error,iconClass:p().iconClasses.error,message:t,
optionsOverride:i,title:e})}function i(e,i){return e||(e=p()),v=t("#"+e.containerId),v.length?v:(i&&(v=c(e)),v)}function n(t,e,i){return f({type:w.info,iconClass:p().iconClasses.info,message:t,optionsOverride:i,title:e})}function s(t){b=t}function a(t,e,i){return f({type:w.success,iconClass:p().iconClasses.success,message:t,optionsOverride:i,title:e})}function r(t,e,i){return f({type:w.warning,iconClass:p().iconClasses.warning,message:t,optionsOverride:i,title:e})}function o(t,e){var n=p();v||i(n),u(t,n,e)||d(n)}function l(e){var n=p();if(v||i(n),e&&0===t(":focus",e).length)return void g(e);v.children().length&&v.remove()}function d(e){for(var i=v.children(),n=i.length-1;n>=0;n--)u(t(i[n]),e)}function u(e,i,n){var s=!(!n||!n.force)&&n.force;return!(!e||!s&&0!==t(":focus",e).length)&&(e[i.hideMethod]({duration:i.hideDuration,easing:i.hideEasing,complete:function(){g(e)}}),!0)}function c(e){return v=t("<div/>").attr("id",e.containerId).addClass(e.positionClass),v.appendTo(t(e.target)),v}function h(){return{tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:void 0,hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",onHidden:void 0,closeMethod:!1,closeDuration:!1,closeEasing:!1,closeOnHover:!0,extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-right",timeOut:5e3,titleClass:"toast-title",messageClass:"toast-message",escapeHtml:!1,target:"body",closeHtml:'<button type="button">&times;</button>',closeClass:"toast-close-button",newestOnTop:!0,preventDuplicates:!1,progressBar:!1,progressClass:"toast-progress",rtl:!1}}function m(t){b&&b(t)}function f(e){function n(t){return null==t&&(t=""),t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function s(){var t="";switch(e.iconClass){case"toast-success":case"toast-info":t="polite";break;default:t="assertive"}T.attr("aria-live",t)}function a(){e.iconClass&&T.addClass($.toastClass).addClass(x)}function r(){$.newestOnTop?v.prepend(T):v.append(T)}function o(){if(e.title){var t=e.title;$.escapeHtml&&(t=n(e.title)),k.append(t).addClass($.titleClass),T.append(k)}}function l(){if(e.message){var t=e.message;$.escapeHtml&&(t=n(e.message)),L.append(t).addClass($.messageClass),T.append(L)}}function d(){$.closeButton&&(O.addClass($.closeClass).attr("role","button"),T.prepend(O))}function u(){$.progressBar&&(E.addClass($.progressClass),T.prepend(E))}function c(){$.rtl&&T.addClass("rtl")}function h(e){var i=e&&!1!==$.closeMethod?$.closeMethod:$.hideMethod,n=e&&!1!==$.closeDuration?$.closeDuration:$.hideDuration,s=e&&!1!==$.closeEasing?$.closeEasing:$.hideEasing;if(!t(":focus",T).length||e)return clearTimeout(M.intervalId),T[i]({duration:n,easing:s,complete:function(){g(T),clearTimeout(S),$.onHidden&&"hidden"!==A.state&&$.onHidden(),A.state="hidden",A.endTime=new Date,m(A)}})}function f(){($.timeOut>0||$.extendedTimeOut>0)&&(S=setTimeout(h,$.extendedTimeOut),M.maxHideTime=parseFloat($.extendedTimeOut),M.hideEta=(new Date).getTime()+M.maxHideTime)}function b(){clearTimeout(S),M.hideEta=0,T.stop(!0,!0)[$.showMethod]({duration:$.showDuration,easing:$.showEasing})}function w(){var t=(M.hideEta-(new Date).getTime())/M.maxHideTime*100;E.width(t+"%")}var $=p(),x=e.iconClass||$.iconClass;if(void 0!==e.optionsOverride&&($=t.extend($,e.optionsOverride),x=e.optionsOverride.iconClass||x),!function(t,e){if(t.preventDuplicates){if(e.message===y)return!0;y=e.message}return!1}($,e)){C++,v=i($,!0);var S=null,T=t("<div/>"),k=t("<div/>"),L=t("<div/>"),E=t("<div/>"),O=t($.closeHtml),M={intervalId:null,hideEta:null,maxHideTime:null},A={toastId:C,state:"visible",startTime:new Date,options:$,map:e};return function(){a(),o(),l(),d(),u(),c(),r(),s()}(),function(){T.hide(),T[$.showMethod]({duration:$.showDuration,easing:$.showEasing,complete:$.onShown}),$.timeOut>0&&(S=setTimeout(h,$.timeOut),M.maxHideTime=parseFloat($.timeOut),M.hideEta=(new Date).getTime()+M.maxHideTime,$.progressBar&&(M.intervalId=setInterval(w,10)))}(),function(){$.closeOnHover&&T.hover(b,f),!$.onclick&&$.tapToDismiss&&T.click(h),$.closeButton&&O&&O.click(function(t){t.stopPropagation?t.stopPropagation():void 0!==t.cancelBubble&&!0!==t.cancelBubble&&(t.cancelBubble=!0),$.onCloseClick&&$.onCloseClick(t),h(!0)}),$.onclick&&T.click(function(t){$.onclick(t),h()})}(),m(A),$.debug&&console&&console.log(A),T}}function p(){return t.extend({},h(),$.options)}function g(t){v||(v=i()),t.is(":visible")||(t.remove(),t=null,0===v.children().length&&(v.remove(),y=void 0))}var v,b,y,C=0,w={error:"error",info:"info",success:"success",warning:"warning"},$={clear:o,remove:l,error:e,getContainer:i,info:n,options:{},subscribe:s,success:a,version:"2.1.4",warning:r};return $}()})}("function"==typeof define&&define.amd?define:function(t,e){"undefined"!=typeof module&&module.exports?module.exports=e(require("jquery")):window.toastr=e(window.jQuery)}),jQuery.tmpl=$.tmpl=function(t,e){var i=doT.template($(t).html()),n="";return n+=i(e)},$(document).ready(function(){$(document).on("click",".btn-calcular",function(){var t=$(this),e=t.data("type"),i=t.data("target"),n=t.data("url"),s=t.closest("form"),a=s.find(i);if("remote"===e){var r=new Loading({zIndex:500,title:"Espere un momento"});t.prop("disabled",!0),$.getJSON(n,function(t){a.val(t)}).always(function(){t.prop("disabled",!1),r.out()})}else if("summation"===e||"sum"===e){var o=t.data("inputs"),l=s.find(o),d=0;l.each(function(t,e){var i=$(e),n=i.data("type-calc"),s=i.val();d+=("subtraction"==n||"sub"==n?-1:1)*s}),a.val(d)}else if("ValiaPercentage"==e||"ValiaPercent"==e){var u=1*s.find("[data-type-calc='percent']").val(),c=1*s.find("[data-type-calc='value']").val(),h=1*s.find("[name='payments']").val(),m=c+h*(u/100);a.val(m.toFixed(2))}else if("valiaInversoPercent"==e){var m=1*s.find("[data-type-calc='result']").val(),c=1*s.find("[data-type-calc='value']").val(),u=100*m/c-100;a.val(u.toFixed(2))}}),$(document).on("after.forms.add","#btnAgregaSaldos",function(t,e,i){var n=$(this),s=n.data("add-position")||"last",a="last"==s?"nth-last-child(2)":"nth-child(2)";$(e+" .tmpl-item:"+a).find("[name]").each(function(){var t=$(this),e=t.attr("name"),n=t.val();n&&n.length>0&&"id"!=e&&"count"!=e&&i.find("[name='"+e+"']").val(n)})}),$(document).on("done.forms.ajax",".btn-trans",function(t,e){var i=$("#btnAgregaSaldos"),n=i.data("add-position")||"last",s="last"==n?"last":"first",a=$("#balances .tmpl-item:"+s),r=e.results.balance;if(!r)return!1;var o=[];for(var l in r){var d=r[l],u=a.find("[name='"+l+"']");u.val(d),u.addClass("change-input-sucess",1e3),o.push(u)}setTimeout(function(){$(o).each(function(){this.removeClass("change-input-sucess",1e3)})},5e3)})}),$(document).ready(function(){$(document).on("click",".add-form",function(){var t=$(this),e=(t.closest("form"),t.data("target")),i=t.data("id-tmpl"),n=t.data("type"),s=t.data("cls-tmpl")||e.substring(1)+"-tmpl",a=$(e).children().length,r=t.data("title-head")||"Nuevo Registro "+a,o=t.data("id-name"),l=t.attr("data-id-value"),d=t.data("add-position")||"last",u=t.data("parent-target"),c="";t.data("id-count")||t.data("id-count",a);var h=t.data("id-count"),m={count:h};if(t.data("id-count",++h),u){var f=t.closest(u);m.parentCount=f.index()+1}c=$.tmpl(i,m),c="accordion"===n?$.tmpl("#tmpl-accordion-add",{targetContent:e+"_"+a,titleHead:r,target:e,body:c}):'<div  class="'+s+'">'+c+"</div>",c=$(c);var p=c.find("[name='"+o+"']");null!=p.val()&&0!=p.val().length||p.val(l),c.addClass("tmpl-item");c.is("form")||c.find("form");return $(e)["last"==d?"append":"prepend"](c),$(c).scrollElement(function(){"accordion"===n&&$(e).find("[data-toggle='collapse']:"+d).click()}),t.trigger("after.forms.add",[e,c]),!1}),$(document).on("click",".btn-delete-form",function(){function t(){var t=e.closest(".tmpl-item"),i=t.find("form");if(i.attr("novalidate")){var n=i.validate();i.find("input.error, select.error, textarea.error").each(function(t,e){$(e).tooltip("hide")}),n.resetForm()}t.remove()}var e=$(this),i=e.closest(e.data("scope")||"form"),n=e.data("name-id")||"id",s=i.find("[name='"+n+"']").val()||e.data("id"),a=e.attr("href")||e.data("url");if(s&&s.length>0){if(confirm("¿Esta seguro que desea eliminar registro?")){var r=new Loading({zIndex:500,title:"Espere un momento"});e.prop("disabled",!0),$.getJSON(a,{id:s},function(e){toastr.success(e.message,e.title||"Proceso satisfactorio."),t()}).always(function(){e.prop("disabled",!1),r.out()})}}else t();return!1})}),$(function(){function t(t,e){var i=new XMLHttpRequest;i.open(t.method,t.url,!0),e.before(),i.onreadystatechange=function(){if(this.readyState==XMLHttpRequest.DONE){var t=this.responseText;200==this.status?e.done($.parseJSON(t)):e.fail(t,this.status),e.always()}},i.send(t.data)}function e(t,e){t.beforeSend=e.before,$.ajax(t).done(e.done).fail(e.fail).always(e.always)}$(document).on("click",".btn-ajax",function(){var i=$(this),n=i.closest("form"),s=i.data("id-tmpl"),a=i.data("target-show"),r=i.data("custom-validate"),o=!!i.data("no-show-msg");if(!r&&!n.valid())return!1;if(r&&!i.data(r)())return!1;var l=n.attr("enctype")||n.attr("accept"),d="multipart/form-data"===l,u=n.serializeForm(),c=null,h={before:function(){i.prop("disabled",!0),c=new Loading({zIndex:500,title:"Espere un momento"})},done:function(t){if(s&&a&&$(s).length>0&&$(a).length>0){var e=$.tmpl(s,t);$(a).html(e).removeClass("invisible")}else o||toastr["ok"===t.status?"success":"error"](t.message,t.title||("ok"===t.status?"Proceso satisfactorio.":"Error en el Proceso"));if(i.trigger("done.forms.ajax",[t]),i.data("clear-form")&&n[0].reset(),!t.results)return!1;for(var r in t.results.inputs)n.find("[name='"+r+"']").val(t.results.inputs[r]);if(t.results.change){var l=t.results.change;$(l).each(function(t,e){var i=e.closest&&""!==e.closest?n.closest(e.closest):n,s=e.selector&&""!==e.selector?i.find(e.selector):i;if(e.html&&s.html(e.html),e.text&&s.text(e.text),e.attr)for(var a in e.attr)s.attr(a,e.attr[a])})}},fail:function(t,e,i){t=t.responseJSON?t.responseJSON:{message:t.responseText,title:"Error Interno de Servidor"},!o&&toastr.error(t.message||t.mesanje,t.title||t.titulo||i)},always:function(){i.prop("disabled",!1),c.out()}},m={url:i.data("url")||n.attr("action")||".",method:n.attr("method")||"POST",data:u};return l&&d?t(m,h):e(m,h),!1})}),$(function(){$(document).on("click",".download-document",function(){var t=$(this),e=t.data("url");return $.redirect(e,{},"GET"),!1}),$(document).on("click",".view-document",function(){var t=$(this),e=t.data("url"),i=t.data("type"),n=$("#view-doc"),s=t.data("title"),a=null;if(i.indexOf("image")>-1)a=n.find(".content").html("<img class='modal-view-doc-content img-fluid' >").find("img");else if(i.indexOf("pdf")>-1){var r=$(document).width(),o=.6*$(document).height();a=n.find(".content").html("<iframe class='modal-view-iframe' width='"+r+"'  height='"+o+"' > </iframe> ").find("iframe")}return a.attr("src",e),n.find(".caption").text(s),n.css("display","block"),!1}),$(document).on("click",".modal-view-doc .close",function(){$(this).closest(".modal-view-doc").css("display","none")})}),function(t,e,i){t.Loading=function(t,e){function i(t){return new i.prototype._init(e("body"),t)}var n,s,a=i.prototype._init=function(t,i){return this.version="1.0.0",this.$target=t,this.set=e.extend(!0,{},this.set,i),this._build(),this};return i.prototype._build=function(){this.$modalMask=e('<div class="modal-mask"></div>'),this.$modalLoading=e('<div class="modal-loading"></div>'),this.$loadingTitle=e('<p class="loading-title"></p>'),this.$loadingAnimation=e('<div class="loading-animate"></div>'),this.$animationOrigin=e('<div class="animate-origin"><span></span></div>'),this.$animationImage=e("<img/>"),this.$loadingDiscription=e('<p class="loading-discription"></p>'),this.set.zIndex<=0&&(this.set.zIndex=(this.$target.siblings().length-1||this.$target.children().siblings().length)+10001),this._buildMask(),this._buildLoading(),this._buildTitle(),this._buildLoadingAnimation(),this._buildDiscription(),this._init=!1,this.set.defaultApply&&this.apply()},i.prototype._buildMask=function(){if(!this.set.mask)return void this.$modalMask.css({position:"absolute",top:"-200%"});this.$modalMask.css({backgroundColor:this.set.maskBgColor,zIndex:this.set.zIndex}),this.$modalMask.addClass(this.set.maskClassName)},i.prototype._buildLoading=function(){this.$modalLoading.css({width:this.set.loadingWidth,height:this.set.loadingHeight,padding:this.set.loadingPadding,backgroundColor:this.set.loadingBgColor,borderRadius:this.set.loadingBorderRadius}),"hor"===this.set.direction&&this.$modalLoading.addClass("modal-hor-layout"),this.$modalMask.append(this.$modalLoading)},i.prototype._buildTitle=function(){this.set.title&&(this.$loadingTitle.css({color:this.set.titleColor,fontSize:this.set.titleFontSize}),this.$loadingTitle.addClass(this.set.titleClassName),this.$loadingTitle.text(this.set.title),this.$modalLoading.append(this.$loadingTitle))},i.prototype._buildLoadingAnimation=function(){if(this.$loadingAnimation.css({width:this.set.animationWidth,height:this.set.animationHeight}),"origin"===this.set.loadingAnimation){this.$animationOrigin.children().css({width:this.set.animationOriginWidth,height:this.set.animationOriginHeight,backgroundColor:this.set.animationOriginColor});for(var t=0;t<5;t++)this.$loadingAnimation.append(this.$animationOrigin.clone())}else"image"===this.set.loadingAnimation&&(this.$animationImage.attr("src",this.set.animationSrc),this.$loadingAnimation.append(this.$animationImage));this.$loadingAnimation.addClass(this.set.animationClassName),this.$modalLoading.append(this.$loadingAnimation)},i.prototype._buildDiscription=function(){this.set.discription&&(this.$loadingDiscription.css({color:this.set.discriptionColor,fontSize:this.set.discriptionFontSize}),this.$loadingDiscription.addClass(this.set.discriptionClassName),this.$loadingDiscription.text(this.set.discription),this.$modalLoading.append(this.$loadingDiscription))},i.prototype._position=function(){n=e(t).width(),s=e(t).height();var i=this.$modalLoading.outerWidth(),a=this.$modalLoading.outerHeight(),r=n>>>1,o=i>>>1,l=r-o,d=s>>>1,u=a>>>1,c=d-u;this.$modalLoading.css({top:c,left:l})},i.prototype._transitionAnimationIn=function(){this.set.animationIn?this.$modalMask.addClass(this.set.animationIn):this.$modalMask.css({display:"block"})},i.prototype._transitionAnimationOut=function(){if(this.set.animationOut){this._timer&&this._timer.clearTimeout(this._timer),this.$modalMask.removeClass(this.set.animationIn).addClass(this.set.animationOut);var t=this;this._timer=setTimeout(function(){t.$modalMask.remove()},this.set.animationDuration)}else this.$modalMask.remove()},i.prototype.apply=function(){this._transitionAnimationIn(),this._init||this._initLoading()},i.prototype.out=function(){this._transitionAnimationOut()},i.prototype._initLoading=function(){if(!this._init){this.$target.append(this.$modalMask),this._position();var i=this;e(t).resize(function(){n=e(t).width(),s=e(t).height(),i._position()}),this._init=!0}},i.prototype.set={direction:"ver",title:void 0,titleColor:"#FFF",titleFontSize:14,titleClassName:void 0,discription:void 0,discriptionColor:"#FFF",discriptionFontSize:14,discriptionClassName:void 0,loadingWidth:"auto",loadingHeight:"auto",loadingPadding:20,loadingBgColor:"#252525",loadingBorderRadius:12,mask:!0,maskBgColor:"rgba(0, 0, 0, .6)",maskClassName:void 0,loadingAnimation:"origin",animationSrc:void 0,animationWidth:40,animationHeight:40,animationOriginWidth:4,animationOriginHeight:4,animationOriginColor:"#FFF",animationClassName:void 0,defaultApply:!0,animationIn:"animated fadeIn",animationOut:"animated fadeOut",animationDuration:1e3,zIndex:0},a.prototype=i.prototype,i}(t,e)}(window,jQuery),$(document).ready(function(){toastr.options={closeButton:!0,debug:!1,newestOnTop:!1,progressBar:!1,positionClass:"toast-top-center",preventDuplicates:!1,onclick:null,showDuration:"300",hideDuration:"1000",timeOut:"5000",extendedTimeOut:"1000",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"},doT.templateSettings={evaluate:/\{%([\s\S]+?)%\}/g,interpolate:/\{%=([\s\S]+?)%\}/g,encode:/\{%!([\s\S]+?)%\}/g,use:/\{%#([\s\S]+?)%\}/g,define:/\{%##\s*([\w\.$]+)\s*(\:|=)([\s\S]+?)#%\}/g,conditional:/\{%\?(\?)?\s*([\s\S]*?)\s*%\}/g,iterate:/\{%~\s*(?:\}\}|([\s\S]+?)\s*\:\s*([\w$]+)\s*(?:\:\s*([\w$]+))?\s*%\})/g,varname:"it",strip:!0,append:!0,selfcontained:!1}}),$(document).on("blur",".nombre-rfc, .apellido-pat-rfc, .apellido-mat-rfc, .fecha-nac-rfc",function(){calculaRFC(".rfc",$(this).closest("form"))}),$(document).on("click",".generate-password",function(){return $(".input-password").val(makeid()),!1});